"use strict";(()=>{var _t=Object.create;var de=Object.defineProperty;var Tt=Object.getOwnPropertyDescriptor;var Mt=Object.getOwnPropertyNames;var Nt=Object.getPrototypeOf,Dt=Object.prototype.hasOwnProperty;var Lt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ut=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Mt(t))!Dt.call(e,n)&&n!==r&&de(e,n,{get:()=>t[n],enumerable:!(o=Tt(t,n))||o.enumerable});return e};var me=(e,t,r)=>(r=e!=null?_t(Nt(e)):{},Ut(t||!e||!e.__esModule?de(r,"default",{value:e,enumerable:!0}):r,e));var ee=Lt((be,Pe)=>{(function(e){var t;if(typeof define=="function"&&define.amd&&(define(e),t=!0),typeof be=="object"&&(Pe.exports=e(),t=!0),!t){var r=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=r,o}}})(function(){function e(){for(var o=0,n={};o<arguments.length;o++){var i=arguments[o];for(var a in i)n[a]=i[a]}return n}function t(o){return o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(o){function n(){}function i(c,s,l){if(!(typeof document>"u")){l=e({path:"/"},n.defaults,l),typeof l.expires=="number"&&(l.expires=new Date(new Date*1+l.expires*864e5)),l.expires=l.expires?l.expires.toUTCString():"";try{var g=JSON.stringify(s);/^[\{\[]/.test(g)&&(s=g)}catch{}s=o.write?o.write(s,c):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),c=encodeURIComponent(String(c)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var k="";for(var x in l)l[x]&&(k+="; "+x,l[x]!==!0&&(k+="="+l[x].split(";")[0]));return document.cookie=c+"="+s+k}}function a(c,s){if(!(typeof document>"u")){for(var l={},g=document.cookie?document.cookie.split("; "):[],k=0;k<g.length;k++){var x=g[k].split("="),v=x.slice(1).join("=");!s&&v.charAt(0)==='"'&&(v=v.slice(1,-1));try{var J=t(x[0]);if(v=(o.read||o)(v,J)||t(v),s)try{v=JSON.parse(v)}catch{}if(l[J]=v,c===J)break}catch{}}return c?l[c]:l}}return n.set=i,n.get=function(c){return a(c,!1)},n.getJSON=function(c){return a(c,!0)},n.remove=function(c,s){i(c,"",e(s,{expires:-1}))},n.defaults={},n.withConverter=r,n}return r(function(){})})});var L="3.92.0";var Y=()=>typeof localStorage!==void 0?localStorage.getItem("marketing_client_debug")==="true":!1,jt=()=>new Date().toUTCString(),pe=(e,t,r)=>{if(Y()){let o=console[e];console.groupCollapsed(`MC:${L} ${jt()} ${t}`),r.forEach(n=>o(n)),console.groupEnd()}},u=(e,...t)=>{pe("info",e,t)};function y(e){pe("error","\u{1F6A8} mc.js internal error",[e])}var fe=e=>{let{application:{view:t}}=e,r=window.location.pathname?.split("/")?.pop()||"";return typeof localStorage!==void 0&&t==="evo order confirmation"?localStorage.getItem("evo-order-event")===r:!1};var ge=(e,t)=>{let{event:r}=e;sessionStorage.setItem("double-firing-event",`${r}|${t}`)};var Ht=(e,t,r)=>{let o=t.split("|"),n=r-parseInt(o[1],10);return o[0]===e&&n<50},ve=e=>{let{event:t}=e,r=Date.now();return typeof sessionStorage!==void 0&&Ht(t,sessionStorage.getItem("double-firing-event")||"",r)?(sessionStorage.removeItem("double-firing-event"),!0):(ge(e,r),!1)};var U=()=>window.location.hostname.includes("gs-checkout")?"Y":"N";var ye=(e,t)=>U()==="Y"?"mc":t==="onCheckoutViewed"||t==="onOrderCompleted"?e.source?"mc":"dcm":e?.source||"";var we=e=>{let t=e.application?.country?.toLowerCase()??"",r=e.application?.device??"",o=e.application?.language??"",n=window?.navigator?.userAgent??"",i=e.application?.view??"";return{country:t,device:r,language:o,userAgent:n,view:i}};function d(e){if(!e)throw new Error("Invalid arguments passed into getCookie");let t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;return t&&t==="null"?null:t}var A=e=>!!d("ni_c")?.toUpperCase().replace(/\s*/g,"").split("|").includes(`${e.toUpperCase()}=1`);var j=()=>window?.NikePrivacy?.permissions?.get()||[];var H=(e,t=j())=>!!t?.find(({category:r})=>r.toLowerCase()===e.toLowerCase())?.isEnabled;var B=()=>[H("adtargeting_hashedmatch"),A("1PA")].some(e=>e);var M={COOKIE_NAME:"geoloc",COUNTRY_KEY:"cc"},X={queryParam:"geolocCountry",ccAlias:"country"};function h(e){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(e)}function he(e,t){if(h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(h(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ee(e){var t=he(e,"string");return h(t)=="symbol"?t:t+""}function Z(e,t,r){return(t=Ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=".nike.com",Q=".nikecloud.com",Bt=".converse.com";var Ce="https://www",io="https://store".concat(S),ao="https://secure-store".concat(S),co="https://api".concat(S),Vt="".concat(Ce).concat(S),so="".concat(Ce).concat(Bt),lo="https://uxtesting.prod.commerce".concat(Q),uo="https://experience.prod.commerce".concat(Q),mo="https://experience.test.commerce".concat(Q),po="".concat(Vt,"/assets");function ke(e){if(Array.isArray(e))return e}function xe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,n,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=i.call(r)).done)&&(c.push(o.value),c.length!==t);s=!0);}catch(g){l=!0,n=g}finally{try{if(!s&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw n}}return c}}function te(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function Ie(e,t){if(e){if(typeof e=="string")return te(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(e,t):void 0}}function Re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Se(e,t){return ke(e)||xe(e,t)||Ie(e,t)||Re()}function Oe(e){return e.split(",").reduce(function(t,r){var o=r.split("="),n=Se(o,2),i=n[0],a=n[1];return t[i]=a,t},{})}var _e=me(ee());var Gt=M.COOKIE_NAME,Te=function(){return _e.default.get(Gt)};var Me=M.COOKIE_NAME,Kt=M.COUNTRY_KEY,jo=X.queryParam,Ft=X.ccAlias,Ne="geoloc cookie not set";function De(e){var t=Oe(e);return Object.defineProperty(t,Ft,{configurable:!0,get:function(){return this[Kt]}}),t}function zt(e){return e&&h(e.cookies)!=="object"?console.warn("No cookies object found to parse"):e.cookies[Me]?De(e.cookies[Me]):console.warn(Ne)}function re(e){if(e)return zt(e);var t=Te();return t?De(t):(console.warn(Ne),t)}var oe=me(ee()),Le=function(){return{get:function(r){return oe.default.get(r)},set:function(r,o,n){oe.default.set(r,o,n)}}},Ue={createInstance:function(t){return{get:function(o){return Le().get(o)},set:function(o,n){Le().set(o,n,t)}}}};function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ae(Object(r),!0).forEach(function(o){Z(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}var je=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=Ue.createInstance(Wt({domain:t.domain||S,expires:new Date(new Date().getTime()+864e5)},t));return{get:function(n){return r.get(n)},set:function(n,i){r.set(n,i)}}},He=function(t,r,o){return je(o).set(t,r)},ne=function(t,r){return je(r).get(t)};var E=function(e,t){return function(){var o,n;if((o=window)!==null&&o!==void 0&&(n=o.webShellClient)!==null&&n!==void 0&&n.privacy&&window.webShellClient.privacy[e]){var i;return(i=window.webShellClient.privacy)[e].apply(i,arguments)}return t.apply(void 0,arguments)}};var ie="sq",O={UNSET:{allowPerformance:null,allowMarketing:null},0:{allowPerformance:!1,allowMarketing:!1},1:{allowPerformance:!0,allowMarketing:!1},2:{allowPerformance:!1,allowMarketing:!0},3:{allowPerformance:!0,allowMarketing:!0}},$t={AT:"Austria",BE:"Belgium",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FI:"Finland",FR:"France",DE:"Germany",GR:"Greece",HU:"Hungary",IE:"Ireland, Republic of (EIRE)",IT:"Italy",LV:"Latvia",LT:"Lithuania",LU:"Luxembourg",MT:"Malta",NL:"Netherlands",NO:"Norway",PL:"Poland",PT:"Portugal",RO:"Romania",SK:"Slovakia",SI:"Slovenia",ES:"Spain",SE:"Sweden",CH:"Switzerland",GB:"United Kingdom"},Be=E("isCookieRequiredCountry",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return!!$t[e.toUpperCase()]}),ae=[],b=E("getPreferences",function(e,t){var r=ne(ie,t),o=re()||{},n=o.cc||e,i=!!n;if(!r)return!i||Be(n)?O.UNSET:O[3];if(O[r])return O[r];throw new Error("unknown value for privacy cookie: ".concat(r))}),qt=E("addInitialPreferenceListener",function(e){ae.push(e)}),Jt=E("getInitialPreferenceListeners",function(){return ae}),Yt=E("isMarketingAllowed",function(e,t){return b(e,t).allowMarketing}),Xt=E("isPerformanceAllowed",function(e,t){return b(e,t).allowPerformance}),Ve=E("isPreferenceSet",function(e){return typeof ne(ie,e)<"u"}),Zt=E("setPreferences",function(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,n=!Ve(r),i=0;i<=3;i+=1)if(O[i].allowPerformance===e&&O[i].allowMarketing===t){He(ie,i,r);break}return n&&ae.forEach(function(a){return a()}),b(o,r)});var Qt=()=>!!b()?.allowMarketing,f=()=>[H("adtargeting_behavioralevents"),Qt(),A("BEAD")].some(e=>e);var p=(e=j())=>{let t=e.find(({category:r})=>r==="performance");return t?t.isEnabled:b().allowPerformance};var er=async e=>{let t=new window.Blob([e],{type:"utf-8"}),r=await new Response(t).arrayBuffer();return new Uint8Array(r)},tr=e=>Array.from(new Uint8Array(e)).map(r=>r.toString(16).padStart(2,"0")).join(""),P=async e=>{if(!e)return"";let t=await er(e),r=await window.crypto.subtle.digest("SHA-256",t);return tr(r)};var I=e=>{if(!e)return"";let t=new URL(e);return t.search="",t.toString()};var rr="714737",or="2lrxTiTBk6-5ot3iFiVRFwzX40tQTtw7",nr="f6e2d580c7",ir=`https://insights-collector.newrelic.com/v1/accounts/${rr}/events`;function V(e){let{newrelic:t=null}=window;u("\u23E3 NewRelic Egress Data \u23E3",e),t&&t.loader_config&&t.loader_config.licenseKey===nr&&t.addPageAction("AdtechMarketingEvent",e),fetch(ir,{method:"POST",headers:{"Content-Type":"application/json","X-Insert-Key":or},body:JSON.stringify({eventType:"AdtechMarketingClientEvent",...e})})}function w(e,t={event:"marketingClientErrorEvent",windowHREF:I(window.location.href)}){let{newrelic:r=null}=window;r&&r.noticeError&&r.noticeError(e,t);let o={...t,errorMessage:e?.message,errorStack:e?.stack};Y()&&(console.error("Error",e),console.error("Error NR event",o)),V(o)}var Ge=()=>window?.NikePrivacy?.isEnabled?"nike-privacy-core":"ux-tread-privacy";function R(e,t){let r={event:"marketingClientEvent",memberEvent:e,referer:I(document.referrer),signInFlow:t,windowHREF:I(window.location.href)};V(r)}function Ke(e){let{application:{country:t,view:r},filter:o,consumer:{allowsPerformance:n},scriptSource:i,event:a,eventId:c}=e,s={event:"marketingClientEvent",eventName:a,country:t,eventId:c,isEVO:U(),privacyType:Ge(),scriptSource:i,filter:o,windowHREF:I(window.location.href),referer:I(document.referrer),version:L,view:r};n&&V(s)}var G=async()=>{try{let e=await window?.webShellClient?.identity?.getUserProfile()||{};return e?.signInFlow==="JOIN"&&(localStorage.setItem("adtech_member_joined","true"),p()&&R("webshell-sign-in-flow",e.signInFlow),localStorage.getItem("adtech_member_joined_count")||(p()&&R("member-sign-in-flow",e.signInFlow),localStorage.setItem("adtech_member_joined_count","1"))),{email:e.email||"",mobileNumber:e.mobileNumber||"",signInFlow:e.signInFlow||"",registeredCountry:e.registeredCountry||"",userType:e.userType||""}}catch(e){return y(e),e instanceof Error&&p()&&w(e),{email:"",mobileNumber:"",registeredCountry:"",signInFlow:"",userType:""}}};var ar=async e=>({hashedEmail:await P(e.email.toLowerCase().trim())||"",loggedIn:"Y",memberEmail:e.email,memberLocation:e.registeredCountry,mobileNumber:e.mobileNumber,memberType:e.userType}),Fe=async()=>{let e={hashedEmail:"",loggedIn:"N",memberEmail:"",memberLocation:"",mobileNumber:"",memberType:""},t=await G();return t.email?await ar(t):e};function ce(e){return e.replace(/[^\d]/g,"")}var ze=async e=>{let t=await Fe(),r=e.consumer?.customerEmail??"",o=await P(r),n=e.consumer?.customerPhoneNumber?ce(e.consumer?.customerPhoneNumber):"",i=t?.mobileNumber?ce(t.mobileNumber):"",a=await P(n),c=await P(i);return{allows1PA:B(),allowsBehavioral:f(),allowsPerformance:p(),email:t.memberEmail||r,hashedEmail:t.hashedEmail||o,hashedPhoneNumber:c||a,loggedIn:t.loggedIn,memberLocation:t.memberLocation,memberType:t.memberType.toUpperCase()}};var K,cr=new Uint8Array(16);function se(){if(!K&&(K=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!K))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return K(cr)}var m=[];for(let e=0;e<256;++e)m.push((e+256).toString(16).slice(1));function We(e,t=0){return m[e[t+0]]+m[e[t+1]]+m[e[t+2]]+m[e[t+3]]+"-"+m[e[t+4]]+m[e[t+5]]+"-"+m[e[t+6]]+m[e[t+7]]+"-"+m[e[t+8]]+m[e[t+9]]+"-"+m[e[t+10]]+m[e[t+11]]+m[e[t+12]]+m[e[t+13]]+m[e[t+14]]+m[e[t+15]]}var sr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),le={randomUUID:sr};function lr(e,t,r){if(le.randomUUID&&!t&&!e)return le.randomUUID();e=e||{};let o=e.random||(e.rng||se)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){r=r||0;for(let n=0;n<16;++n)t[r+n]=o[n];return t}return We(o)}var N=lr;var F=e=>{let t=e?.event||e?.eventName,r=e?.application?.view||"",o=["gridwall","launch-feed","launch-in-stock","launch-upcoming"],n=["pdp","launch-pdp"],i=["cart"],a=["launch-checkout"];switch(t){case"cartViewed":return"onCartViewed";case"onLoad":if(o.includes(r))return"onProductListViewed";if(n.includes(r))return"onProductViewed";if(i.includes(r))return"onCartViewed";if(a.includes(r))return"onCheckoutViewed";break;case"landingPageViewed":return"onLandingPageViewed";case"colorChange":return"onColorChange";case"sizeSelect":return"onSizeSelect";case"addToCart":return"onProductAdded";case"productAdded":return"onProductAdded";case"memberJoined":return"onMemberJoined";case"registrationPageViewed":return"onRegistrationViewed";default:break}switch(r){case"cart":return"onCartViewed";case"checkout":return"onCheckoutViewed";case"checkout type":return"onCheckoutViewed";case"order confirmation":return"onOrderCompleted";case"evo order confirmation":return"onOrderCompleted";case"order review":return"onCheckoutViewed";case"payment":return"onCheckoutViewed";case"shipping":return"onCheckoutViewed";case"evo checkout":return"onCheckoutViewed";case"homepage":return"onLandingPageViewed";case"landing page":return"onLandingPageViewed";case"editorial":return"onLandingPageViewed";case"memberJoined":return"onMemberJoined";default:break}return""};var $e=e=>{let t=F(e);return{eventId:N(),event:t}};var qe=e=>({filter:e.filters?.sortBy??""});function Je(e){return e?Array.isArray(e)&&e.length&&e[0]!==void 0?e:Array.isArray(e)?[]:Object.values(e).map(t=>t.code):[]}function Ye(e){return e?{ae:"AED",at:"EUR",au:"AUD",be:"EUR",bg:"BGN",ca:"CAD",ch:"CHF",cl:"CLP",cn:"CNY",cz:"EUR",de:"EUR",dk:"DKK",eg:"EGP",es:"EUR",fi:"EUR",fr:"EUR",gb:"GBP",gr:"EUR",hk:"CNY",hr:"EUR",hu:"EUR",id:"IDR",ie:"EUR",il:"ILS",in:"INR",it:"EUR",kr:"KRW",jp:"JPY",lu:"EUR",ma:"MAD",mx:"MXN",my:"MYR",nl:"EUR",no:"NOK",nz:"NZD",ph:"PHP",pl:"PLN",pr:"USD",pt:"EUR",ro:"RON",ru:"RUB",sa:"SAR",se:"SEK",sg:"SGD",si:"EUR",sk:"EUR",th:"THB",tr:"TRY",tw:"TWD",us:"USD",vn:"VND",za:"ZAR"}[e.toLowerCase()]:""}var Xe=async(e,t)=>{let r=Ye(t),o=e.order?.discount??0,n=e.order?.orderId??"",i=await P(n),a=Je(e.order?.promoCodeList),c=e.order?.shipping??0,s=e.order?.subtotal??0,l=e.order?.tax??0,g=e.order?.total??0;return{currencyCode:r,discount:o,hashedOrderId:i,orderId:n,promoCodeList:a,shipping:c,subtotal:s,tax:l,total:g}};var Ze=(e,t)=>{let r=window.location.origin==="https://www.nike.com.cn"?"https://product-proxy.adtech-prod.nikecloud.com.cn/products":"https://product-proxy-v2.adtech-prod.nikecloud.com/products";return!e.length||t===void 0?Promise.resolve([]):fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({experienceProducts:e,country:t})}).then(o=>{if(!o.ok){let n=o.headers.get("Content-Type");return n&&n.includes("application/json")?o.json().then(i=>{let a=i.error?new Error(i.error):new Error("fetch response not ok");return Promise.reject(a)}):Promise.reject(new Error("fetch response not ok"))}return o.json()}).then(o=>(u("\u{1F45F} Product Data",o),o.hydratedProducts??[])).catch(o=>{y(o);let n=new Error(`Cloud Product Data Error: ${o instanceof Error?o.message:String(o)}`);return w(n,{event:"marketingClientErrorEvent",windowHREF:window.location.href,experienceProducts:e,country:t}),[]})};var Qe=(e,t)=>t.currentPrice*e.quantity;var et=(e=[],t=[])=>Array.from(new Set([...Array.isArray(e)?e:[],...Array.isArray(t)?t:[]]));var tt=(e,t)=>{let r=t?.skuData??[],o={size:e?.size??"",sku:e?.sku??"",gtin:e?.gtin??""},n={size:r.length?r[0].size:"",sku:r.length?r[0].sku:"",gtin:r.length?r[0].gtin:""};return r.length?r.find(({size:i})=>i===o.size)??n:o};var rt=(e,t)=>t.length&&!e.length?t:!t.length&&!e.length?[]:t.map(o=>{let n=e.find(({cloudProductId:i})=>i===o.cloudProductId);if(n){let i={...o,...n,genders:et(o.genders,n.genders),...tt(o,n),currentPrice:o.currentPrice===0?n.currentPrice:o.currentPrice,id:o.id?o.id:n.prodigyId,fullPrice:o.fullPrice===0?n.fullPrice:o.fullPrice,currentPriceTotal:o.currentPriceTotal===0?Qe(o,n):o.currentPriceTotal},{skuData:a,prodigyId:c,...s}=i;return s}return o});function ur(e){switch(e){case"OOS":return"Fouts";case"LOW":return"Miller";case"MEDIUM":return"Dixon";case"HIGH":return"Mariota";default:return""}}function dr(e){let t=e.objects.map(o=>o.level),r={};return t.forEach(o=>{r[o]=(r[o]||0)+1}),r}function mr(e){let t=["GB","AT","FR","IT","DE","ES","BE","CZ","DK","FI","GR","HU","IE","LU","NL","PL","PT","SE","SI"],r=["AE","AU","BG","CA","CH","CL","EG","HR","IL","MA","NO","ZA","NZ","PR","RO","RU","SA","SK","TR"],o=["ID","IN","MY","PH","SG","TH","TW","VN"];return t.indexOf(e)>-1?"EU":r.indexOf(e)>-1?"XP":o.indexOf(e)>-1?"XA":e.toUpperCase()}function pr(e){let t=0,r="";for(let o in e)if(e[o]>t){if(o==="OOS"&&Object.keys(e).length>1)return"LOW";t=e[o],r=o}else e[o]===t&&(r==="HIGH"&&o==="MEDIUM"?r="MEDIUM":r==="HIGH"&&o==="LOW"?r="LOW":r==="MEDIUM"&&o==="HIGH"?r="MEDIUM":(r==="MEDIUM"&&o==="LOW"||r==="LOW"&&o==="MEDIUM"||r==="LOW"&&o==="HIGH")&&(r="LOW"));return r}function fr(e){let t=dr(e),r=pr(t);return ur(r)}function gr(e,t){let r=mr(t.toUpperCase()),o=window.location.origin==="https://www.nike.com.cn"?"api.nike.com.cn":"api.nike.com",n=encodeURI(`https://${o}/deliver/available_gtins/v3?filter=styleColor(${e})&filter=merchGroup(${r})`);return fetch(n,{credentials:"include"}).then(i=>i.json()).then(i=>fr(i))}function ot(e,t=[]){let r=e?.application?.country||"",o=t.filter(i=>i.cloudProductId!==null),n=F(e);if(o.length>0){let i=o.map(async a=>{if(a?.color&&r&&(n==="onProductViewed"||n==="onCartViewed"))try{let c=await gr(a.color,r);return{...a,inventoryLevel:c}}catch(c){return y(c),{...a,inventoryLevel:""}}return{...a,inventoryLevel:""}});return Promise.all(i)}return Promise.resolve([])}var nt=e=>e?.length?e.map(t=>({brand:t?.brand||"",category:t?.category||"",cloudProductId:t?.cloudProductId||"",color:t?.color||"",currentPrice:t?.currentPrice||0,currentPriceTotal:t?.currentPriceTotal||0,fullPrice:t?.fullPrice||0,genders:t?.genders||[],id:t?.id||"",inventoryLevel:t?.inventoryLevel||"",isNikeByYou:t?.isNikeByYou||!1,isOnSale:t?.isOnSale||!1,name:t?.name||"",discounts:t?.discounts||[],quantity:t?.quantity||1,size:t?.size||"",sku:t?.sku||"",gtin:t?.gtin||"",subCategory:t?.subCategory||[]})):[];var it=async(e,t)=>{let r=nt(e.productList),o=r.filter(a=>!a.category.includes("GIFT_CARD")).filter(a=>a?.cloudProductId?.includes("-")).map(a=>({cloudProductId:a.cloudProductId,currentPrice:a.currentPrice}))??[],[n,i]=await Promise.all([ot(e,r),Ze(o,t)]);return rt(i,n)};var at=e=>{let t=0,r=0,o=0,n=0;for(let i of e){t+=i.currentPrice*i.quantity,r+=i.quantity;let a=i.discounts?.reduce((c,s)=>c+s.discountAmount,0)||0;o+=a}return n=t-o,{currentPrice:t,quantity:r,discount:o,discountedPrice:n}};var ct=async e=>{let t=we(e),[r,o,n]=await Promise.all([ze(e),Xe(e,t.country),it(e,t.country)]),i=at(n),{filter:a}=qe(e),{event:c,eventId:s}=$e(e),l=ye(e,c);return{application:t,consumer:r,filter:a,event:c,eventId:s,order:o,productList:n,scriptSource:l,productTotals:i}};var st=(e,t,r)=>({currencyCode:r.order.currencyCode,impressions:e,items:t}),vr=(e,t)=>({detail:{products:e},items:t}),yr=(e,t,r)=>({currencyCode:r.order.currencyCode,add:{products:e},items:t}),wr=(e,t)=>({checkout:{products:e},items:t}),hr=(e,t,r)=>({currencyCode:r.order.currencyCode,purchase:{actionField:{id:r.order.orderId,coupon:Array.isArray(r.order.promoCodeList)&&r.order.promoCodeList.length?r.order.promoCodeList.join("|"):"",revenue:r.order.total,shipping:r.order.shipping,tax:r.order.tax},products:e},items:t});function lt(e){let t=e.productList.map(n=>({brand:n.brand,category:n.category,id:n.id,list:e.filter,name:n.name,price:n.currentPriceTotal,quantity:n.quantity,variant:n.color})),r=e.productList.map(n=>({item_name:n.name,item_id:n.id,price:n.currentPriceTotal,item_brand:n.brand,item_category:n.category,item_variant:n.color,item_list_name:e.filter,quantity:n.quantity}));return{onProductListViewed:st,onProductListFiltered:st,onProductViewed:vr,onProductAdded:yr,onCheckoutViewed:wr,onOrderCompleted:hr}[e.event]?.(t,r,e)??{}}var ut=e=>{let{application:t,consumer:r,event:o,eventId:n,filter:i,order:a,productList:c,productTotals:s}=e,l=lt({productList:c,filter:i,event:o,order:a});return{application:t,consumer:r,ecommerce:l,event:o,eventId:n,filter:i,order:a,productList:c,productTotals:s,productListAggregateData:s}};var dt=e=>{let t=ut(e);window.marketingClientDataLayer=window.marketingClientDataLayer||[],window.marketingClientDataLayer.push(t),u("\u{1F3F7} GTM Egress Data",t)};var Er=["ae","at","au","be","bg","ca","ch","cl","cz","de","dk","eg","es","fi","fr","gb","gr","hr","hu","id","ie","il","in","it","jp","lu","ma","mx","my","nl","no","nz","ph","pl","pr","pt","ro","ru","sa","se","sg","si","sk","th","tr","us","vn","za"],mt=e=>e==="us"||Er.includes(e)&&f();var pt=(e,t)=>{let r={...t,eventData:{...t.eventData,request:{client:"fetch"}}};return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),keepalive:!0})},Cr=(e,t)=>{let r={...t,eventData:{...t.eventData,request:{client:"beacon"}}};return navigator.sendBeacon(e,JSON.stringify(r))},br=(e,t)=>{if(!navigator.sendBeacon)return pt(e,t);let r=Cr(e,t);return r||pt(e,t)},ft=e=>{try{let t="https://consumersignals.services.nike.com/consumersignals/kennedy/v1/stream",r={type:"page",anonymousID:e.anonymousId,eventData:e};u("\u{1F300} NMP-Utils Egress Data",e),br(t,r)}catch(t){y(t),t instanceof Error&&w(t)}};var gt=e=>{let{application:{view:t}}=e,r=window.location.pathname?.split("/")?.pop()||"";typeof localStorage!==void 0&&t==="evo order confirmation"&&localStorage.setItem("evo-order-event",r)};var z=e=>{window.marketingClientDataLayer=window.marketingClientDataLayer||[];function t(r,o,n){window.marketingClientDataLayer&&window.marketingClientDataLayer.push(arguments)}t("consent",e,{ad_storage:f()?"granted":"denied",ad_user_data:f()?"granted":"denied",ad_personalization:f()?"granted":"denied",analytics_storage:f()?"granted":"denied",nike_bead:f()?"granted":"denied",nike_1pa:B()?"granted":"denied",nike_performance:p()?"granted":"denied"})};function W(){let e=d("NIKE_COMMERCE_COUNTRY"),t="";if(e)t=e;else{let r=location.pathname.slice(1).split("/");r[0].length===2&&(t=r[0])}return t.toLowerCase()}var D=()=>W()==="us"||f();var vt=e=>({allows1PA:e?.consumer?.allows1PA||!1,allowsBehavioral:e?.consumer?.allowsBehavioral||!1,allowsPerformance:e?.consumer?.allowsPerformance||!1,currencyType:e?.order?.currencyCode||"",hashedEmail:e?.consumer?.hashedEmail||"",hashedPhoneNumber:e?.consumer?.hashedPhoneNumber||"",loggedIn:e?.consumer?.loggedIn||""});var yt=()=>window.location.href;var C=()=>new Date;var wt=(e,t)=>Math.floor(Math.random()*(t-e))+e;var $=e=>new URLSearchParams(window.location.search).get(e)||"";var _=(e,t)=>{let r=new Date(e.getTime());return r.setMonth(e.getMonth()+t),r.toUTCString()};function T(e,t,r){document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; expires=${r}; domain=.nike.com; path=/; Secure`}var Pr=e=>{let t=`fb.1.${C().getTime()}.${e}`;return T("_fbc",t,_(C(),3)),t},kr=()=>{let e=`fb.1.${C().getTime()}.${wt(1e7,1e12)}`;return T("_fbp",e,_(C(),3)),e},ht=()=>{let e=$("fbclid"),t=d("_fbp"),r=d("_fbc"),o=e&&(!r||r?.split(".")[r.split(".").length-1]!==e)?Pr(e):r||"",n=t??kr();return{fbcId:o,fbpId:n}};var xr=e=>(T("_rdt_cid",e,_(C(),3)),e),Ir=()=>{let e=`${C().getTime()}.${N()}`;return T("_rdt_uuid",e,_(C(),3)),e},Et=()=>{let e=$("rdt_cid"),t=d("_rdt_cid"),r=d("_rdt_uuid"),n=e&&(!t||t!==e)?xr(e):t||"",i=r??Ir();return{cid:n,uuid:i}};var Ct=e=>{let t=vt(e),r=yt(),o=d("anonymousId"),n=d("_scid"),i=d("_ttp"),a=d("ttclid");return{...e,consumer:t,anonymousId:o,facebook:ht(),tiktok:{ttp:i,ttclid:a},reddit:Et(),scId:n,url:r}};var bt=async e=>{try{let t=await ct(e);if(u("\u{1F4A7} Hydrated Marketing Client Data",t),D()&&(z("update"),dt(t)),mt(t.application.country)){let r=Ct(t);ft(r)}gt(t),p()&&Ke(t)}catch(t){y(t),t instanceof Error&&w(t)}};var ue=e=>{if(!e){u("\u{1F969} Raw Marketing Client Event Empty",e);return}if(ve(e)){u("\u{1F969} Raw Marketing Client Event Double Firing",e);return}if(fe(e)){u("\u{1F969} Raw Marketing Client Event Stored Evo Order Event",e);return}if(e["@nike/mc.metadata"]?.dispatchedAt){u("\u{1F969} Raw Marketing Client Event Already dispatched",e);return}e["@nike/mc.metadata"]={dispatchedAt:new Date().toISOString()},u("\u{1F969} Raw Marketing Client Event Data",e),bt({...e,"@nike/mc.metadata":void 0})};var Pt=e=>t=>r=>(u(`\u{1F35D} ${e}`,r),t(r)),kt=()=>(window.NikeConsumerSignals||(window.NikeConsumerSignals=[]),window.NikeConsumerSignals),q=e=>{kt().push(e)},xt=()=>{let e=window,t=kt();t.forEach(Pt("Clearing queued events")(ue)),t.push=function(...r){let{length:o}=this;return Array.prototype.push.apply(this,r),this.slice(o).forEach(Pt("Dispatching incoming event")(ue)),this.length},e.marketing=q,dispatchEvent(new Event("@mc/marketing_available"))};function Rr(){let e="marketingClientGTM";if(document.getElementById(e))return;let t=`(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','marketingClientDataLayer','GTM-NTF2X45');`,r=document.createElement("script");r.setAttribute("id",e);let o=document.createTextNode(t);r.appendChild(o),document.getElementsByTagName("head")[0].appendChild(r)}function It(){try{z("default"),Rr()}catch(e){let t=new Error(`GTM Initialization Error: ${e instanceof Error?e.message:String(e)}`);w(t)}}function Rt(){let e=d("NIKE_COMMERCE_LANG_LOCALE"),t="";return e&&(t=e.toLowerCase()),t}var Sr=e=>{window?.NikeConsumerSignals?q(e):window?.marketing&&window.marketing(e)},St=()=>{let e=localStorage.getItem("dcm_member_joined_success"),t=localStorage.getItem("adtech_member_joined"),r=localStorage.getItem("adtech_member_joined_count"),o={application:{view:"memberJoined",country:W(),language:Rt()},eventName:"memberJoined"},n={detail:o};e==="true"&&(p()&&R("legacy-neo"),localStorage.removeItem("dcm_member_joined_success"),document.documentElement.dispatchEvent(new CustomEvent("neo",n))),t==="true"&&r==="1"&&(window?.marketing||window?.NikeConsumerSignals)&&(p()&&R("webshell-window.marketing"),localStorage.setItem("adtech_member_joined_count","0"),Sr(o)),t==="true"&&r==="1"&&!window?.marketing&&(p()&&R("webshell-neo"),localStorage.setItem("adtech_member_joined_count","0"),document.documentElement.dispatchEvent(new CustomEvent("neo",n))),localStorage.removeItem("adtech_member_joined")};D()&&It();xt();G().then(e=>{e?.signInFlow==="JOIN"&&D()&&St()});})();
/*! Bundled license information:

js-cookie/src/js.cookie.js:
  (*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   *)
*/
